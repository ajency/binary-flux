{{ define "main" }}
<header class="header-section">
    <div class="d-flex justify-content-between align-items-center">
        <div class="logo-wrap">         
            <a href="#">
                <img src="{{"images/logo.svg" | relURL }}" alt="logo" class="logo">
            </a>
        </div>
        <div class="navbar-right dropdown">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="header-tab" data-toggle="tab" href="#header" role="tab" aria-controls="header" aria-selected="true">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="jd_edwards-tab" data-toggle="tab" href="#jd_edwards" role="tab" aria-controls="jd_edwards" aria-selected="false">Organisation</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="documentation-tab" data-toggle="tab" href="#documentation" role="tab" aria-controls="documentation" aria-selected="false">Settings</a>
                </li>
            </ul>
        </div>
        <div class="user">
            <span class="text-white font-weight-bold">John Smith<img src="{{"images/notifications-outline.svg" | relURL }}" width="20" height="20" alt="notification" class="notification"></span>
        </div>
    </div>
</header>

<div class="container-fluid p-0">
    <div class="custom-dashboard position-relative">
        <div class="sidebar p-0">
            <div class="sidear-container mobile-slide-in px-2 py-4">
               <div class="d-flex align-items-center justify-content-between menu-item text-white">New Dashbaord <img src="{{"images/cancel.svg" | relURL }}" alt="close" class="close" width="12" height="12"></div>
            </div>
        </div>
        <div class="content">
            <div class="header-section sub-header-o">
                <h3 class="title font-weight-light text-left"> <img src="{{"images/ic_cube_small.svg" | relURL }}" alt="enter query" class="enter">Enter a query</h3>
                <p class="sub-title text-left floating-title">Stat typing your query and hit the go button to configure your widget.</p>
                <textarea id="query-field" name="query-field" rows="3" cols="50" class="query-field scroll-bar">
FIND COUNT(employeeid) ,eventtime IN events WHERE sourcename  = 'sharepoint' && filesize > 100 && extension MATCHES('.pdf','.ppt') BUCKET-ONeventtime SORT-ON eventtime DESC TRANSFORM-TO LINECHART
                </textarea>
                <div class="d-flex justify-content-between align-items-center flex-wrap action-block">
                    <div class="d-flex align-items-center actions">
                        <button class="btn btn-lg btn-primary btn-ouline-light-blue m-2">Generate Widget</button>
                        <button class="btn btn-lg btn-primary btn-light-blue m-2">Save Widget</button>
                    </div>
                    <div class="d-flex align-items-center actions pl-sm-2">
                        <p class="blue-light widget-label my-2"><span class="count">2</span>Widgets saved to dashboard<i class="icon-arrow-down-sm icon ml-1"></i></p>
                        <button class="btn btn-lg btn-primary btn-light-blue m-2">Go to dashboard</button>
                    </div>
                </div>
                <div class="select-options d-flex justify-content-between flex-wrap">
                    <div class="col-w2 mr-1">
                        <div class="title">Widget Title</div>
                        <p class="desc">Add a title to identify your widget by.</p>
                        <div class="margin-bottom">
                            <input type="text" class="form-control form-control-sm" id="worldstat" placeholder="" value="Worldwide Stats">
                        </div>
                    </div>
                    <div class="col-w2 w-40 mr-1">
                        <div class="title">Description</div>
                        <p class="desc">Describe your data.</p>
                        <div class="margin-bottom">
                            <input type="text" class="form-control form-control-sm" id="describe" placeholder="Type here">
                        </div>
                    </div>
                    <div class="col-w2 mr-1">
                        <div class="title">Priority</div>
                        <p class="desc">Assign a priority to the widget.</p>
                        <div class="margin-bottom position-relative">
                            <input type="text" class="form-control form-control-sm" id="priority" value="High Priority" readonly="">
                            <img src="/binary-flux/images/ic_chevron_left.svg" width="14" height="14" alt="dropdown" class="dropdown-arrow">
                        </div>
                    </div>
                    <div class="col-w2 mr-1">
                        <div class="title">Visualisation</div>
                        <p class="desc">Select a visualisation for your widget.</p>
                        <div class="margin-bottom position-relative">
                            <input type="text" class="form-control form-control-sm" id="visualisation" value="SVG Map" readonly="">
                            <img src="/binary-flux/images/ic_chevron_left.svg" width="14" height="14" alt="dropdown" class="dropdown-arrow">
                        </div>
                    </div>
                </div>
            </div>
            <h5 class="text-left px-2 pt-4 f-18 text-white"> Preview </h5>
            <div class="mapValue d-flex justify-content-between">
                <div>
                    <p class="value text-white">Admissions</p>
                </div>
                <div class="d-flex">
                    <p class="px-1 low">Low</p>
                    <p class="px-1 high">High</p>
                </div>
            </div>
            <div id="container" style="max-width: 800px; height: 500px; overflow: hidden"></div>
            <div class="highlight"> </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="../../plugins/lib/codemirror.css">
<script src="../../plugins/lib/codemirror.js"></script>
<script src="../../plugins/mode/sql/sql.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.6/proj4.js"></script>
<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/custom/world.js"></script>


<script type="text/javascript">
    document.body.classList.add("blue_bg");
    var editableCodeMirror = CodeMirror.fromTextArea(document.getElementById('query-field'), {
    mode: "text/x-mysql",
    lineNumbers: false,
    lineWrapping: true,
    indentWithTabs: true,
    smartIndent: true,
    autofocus: true,
    extraKeys: {"Ctrl-Space": "autocomplete"},
});
// Initiate the chart
Highcharts.mapChart('container', {

    chart: {
        map: 'custom/world'
    },

    mapNavigation: {
        enabled: true
    },

    tooltip: {
        enabled: false
    },

    series: [{
        name: 'Basemap',
        borderColor: '#FF5700',
        nullColor: '#FF5700',
        showInLegend: false
    }, {
        name: 'Separators',
        type: 'mapline',
        nullColor: '#FF5700',
        showInLegend: false,
        enableMouseTracking: false
    }, {
        // Specify points using lat/lon
        type: 'mappoint',
        color: Highcharts.getOptions().colors[1],
        data: [{
            lat: 69.7069,
            lon: -95.6043
        }, {
            name: '54,667',
            lat: 62.7069,
            lon: -49.6043,
            color: '#FF5700',
            dataLabels: {
                align: 'left',
                x: -25,
                y: 40,
                verticalAlign: 'middle',
                className: 'highlight'
            }
        }, {
            lat: 65.155,
            lon: 220.4937,
            // dataLabels: {
            //     align: 'left',
            //     x: 0,
            //     verticalAlign: 'middle'
            // }
        }],
    }],
});


</script>
{{ end }}